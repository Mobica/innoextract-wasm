<!doctype html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>innoextract wasm</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/innoextract.css" rel="stylesheet">
    <link href="css/bootstrap-icons.css" rel="stylesheet">
    <script src="js/jquery-3.6.4.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/bootstrap-treeview.min.js"></script>
    <script src="js/ponyfill.min.js"></script>
    <script src="js/StreamSaver.js"></script>
  </head>
  <body>
    <div class="col-lg-8 mx-auto py-md-5">
        <header class="align-items-center pb-3 mb-5 border-bottom">
            <img class="me-2" src="img/icon_64.png" />
            <span class="fs-4">innoextract wasm</span>
        </header>
        <div class="row">
            <div class="col-lg-6">
                <h5>Input</h5>
                <div class="card">
                    <div class="card-header">
                        <div class="btn-toolbar justify-content-between" role="toolbar">
                            <div class="btn-group me-lg-2">
                            <button id="addBtn" class="btn btn-success"><i class="bi bi-file-earmark-plus-fill"></i> Add files...</button>
                            <button id="removeBtn" class="btn btn-danger"><i class="bi bi-trash-fill"></i> Remove</button>
                            </div>
                            <div class="btn-group me-lg-2">
                                <button id="startBtn" class="btn btn-primary"><i class="bi bi-rocket-takeoff-fill"></i> Start</button>
                            </div>
                        </div>
                    </div>
                    <ul class="list-group list-group-flush pane" id="fileList">
                        <li class="list-group-item text-center" id="emptyListInfo">
                            <h5 class="card-title">The list is empty.</h5>
                            <small>Add some files please.</small>
                        </li>
                        <template id="fileTemplate">
                            <li class="list-group-item">
                                <div class="d-flex w-100 justify-content-between">
                                <div>
                                    <input class="form-check-input me-1" type="radio" name="exeRadio" value="" id="firstRadio" checked>
                                    <label class="form-check-label fileName" for="firstRadio">Some name</label>
                                </div>
                                <small>Some size</small>
                                </div>
                            </li>
                        </template>
                    </ul>
                </div>
                <div class="mt-2">
                    <div class="collapse mb-2" id="collapseLogs">
                        <h5>Logs</h5>
                        <div id="con" class="card card-body"></div>
                    </div>
                    <p>
                        <a class="btn btn-primary btn-sm" data-bs-toggle="collapse" href="#collapseLogs" role="button" aria-expanded="false" aria-controls="collapseLogs">
                            <i class="bi bi-terminal-fill"></i> Show/hide logs
                        </a>
                    </p>
                </div>
            </div>
            <div class="col-lg-6">
                <h5>Output</h5>
                <div class="card">
                    <div class="card-header">
                        <div class="d-flex w-100 justify-content-between">
                            <div>
                                <h5 id="title" class="card-title">Add and choose a EXE file...</h5>
                                <h6 id="desc" class="card-subtitle mb-2 text-muted"></h6>
                            </div>
                            <small id="details">Size: <span id="size">0</span>MB Files: <span id="filesNum">0</span></small>
                        </div>
                        <div class="progress mb-2">
                            <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 0%;">0%</div>
                        </div>
                        <div id="extract-group" class="input-group me-lg-2 w-100">
                            <button id="extractBtn" class="btn btn-warning flex-fill" disabled><i class="bi bi-file-earmark-zip-fill"></i> Extract and save as a ZIP! </button>
                        </div>
                    </div>
                    <div id="tree"></div> 
                </div>
            </div>
        </div>
    </div>
    <input type="file" id="fileBrowser" multiple accept=".exe,.bin" style="display:none" />
    <div id="errorModal" class="modal" tabindex="-1">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title"><i class="bi bi-exclamation-circle-fill"></i> Error</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <p>Innoextract has been failed.</p>
              <p id="errorMsg"></p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
    </div>
    <script src="innoextract.js"></script>
    <script src="js/innoextract.misc.js"></script>
  </body>
</html>
